
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Migrating from Windows 8.0 SearchPane to Windows 8.1 SearchBox</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../../../../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../../../../assets/css/screen.css?v=7481804497">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/">
    <meta name="referrer" content="origin-when-cross-origin">
    
    <meta property="og:site_name" content="Sertaç Özercan">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Migrating from Windows 8.0 SearchPane to Windows 8.1 SearchBox">
    <meta property="og:description" content="Windows 8.1 brings improvements to Windows 8 in many areas and search experience in apps is one of these areas. In Windows 8.0, the default search experience was to go to the search charm, which offered to search within the app by default (if supported) with a control">
    <meta property="og:url" content="http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/">
    <meta property="article:published_time" content="2013-09-05T14:42:35.000Z">
    <meta property="article:modified_time" content="2013-09-05T18:26:18.000Z">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Migrating from Windows 8.0 SearchPane to Windows 8.1 SearchBox">
    <meta name="twitter:description" content="Windows 8.1 brings improvements to Windows 8 in many areas and search experience in apps is one of these areas. In Windows 8.0, the default search experience was to go to the search charm, which offered to search within the app by default (if supported) with a control">
    <meta name="twitter:url" content="http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Sertaç Özercan">
    <meta name="twitter:site" content="@sozercan">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Sertaç Özercan",
        "logo": "http://my-ghost-blog.com/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "Sertaç Özercan",
        "image": "//www.gravatar.com/avatar/b55d471041bacda59fdbe29c719a4f98?s=250&d=mm&r=x",
        "url": "http://my-ghost-blog.com/author/sozercan/",
        "sameAs": [
            "http://sertacozercan.com"
        ]
    },
    "headline": "Migrating from Windows 8.0 SearchPane to Windows 8.1 SearchBox",
    "url": "http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/",
    "datePublished": "2013-09-05T14:42:35.000Z",
    "dateModified": "2013-09-05T18:26:18.000Z",
    "description": "Windows 8.1 brings improvements to Windows 8 in many areas and search experience in apps is one of these areas. In Windows 8.0, the default search experience was to go to the search charm, which offered to search within the app by default (if supported) with a control"
}
    </script>

    <meta name="generator" content="Ghost 0.9">
    <link rel="alternate" type="application/rss+xml" title="Sertaç Özercan" href="http://my-ghost-blog.com/rss/">
</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="../../../../">Home</a></li>
            <li class="nav-projects" role="presentation"><a href="../../../../projects/">Projects</a></li>
            <li class="nav-about" role="presentation"><a href="../../../../about-me">About</a></li>
            <li class="nav-publications" role="presentation"><a href="../../../../publications/">Publications</a></li>
            <li class="nav-contact" role="presentation"><a href="../../../../contact/">Contact</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="http://my-ghost-blog.com/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Migrating from Windows 8.0 SearchPane to Windows 8.1 SearchBox</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2013-09-05">05 September 2013</time> 
            </section>
        </header>

        <section class="post-content">
            <p>Windows 8.1 brings improvements to Windows 8 in many areas and search experience in apps is one of these areas. In Windows 8.0, the default search experience was to go to the search charm, which offered to search within the app by default (if supported) with a control called SearchPane.</p>

<p>In Windows 8.1, search charm can also search inside the app, but the default behavior is to search in “Everywhere”. To search within an app, you need to switch to the app specifically. Now, search experience is controlled by the apps, which introduces the SearchBox control that makes it easy to add the search box capability.</p>

<p>Since the default search charm behavior is not within the app, you should transition from using SearchPane to SearchBox for an easier, convenient and consistent search experience.</p>

<p>In this post, I will show you how you can transition from Windows 8.0 SearchPane to 8.1 SearchBox control in JavaScript, and it is very similar in C#.</p>

<p>In 8.0, to implement search you need to use something like:</p>

<p>Windows.ApplicationModel.Search.SearchPane.getForCurrentView().onquerysubmitted = function (eventObject) { var queryText = eventObject.queryText; // do something with queryText };</p>

<p>If you want to have suggestions (optional):</p>

<p>Windows.ApplicationModel.Search.SearchPane.getForCurrentView().onsuggestionsrequested = function (eventObject) { var queryText = eventObject.queryText, suggestionRequest = eventObject.request; var query = queryText.toLowerCase(); for (var i = 0, len = suggestionList.length; i &lt; len; i++) { if (suggestionList[i].substr(0, query.length).toLowerCase() <mark>= query) { suggestionRequest.searchSuggestionCollection.appendQuerySuggestion(suggestionList[i]); } } } };</mark></p>

<p>In 8.1, first you need to add the SearchBox to your HTML:</p>

<div id="searchBoxId" data-win-control="WinJS.UI.SearchBox"></div>

<p>In your JS file, get the searchBoxId element, and subscribe to the suggestions (optional) and submit event handlers.</p>

<p>var searchBox = document.getElementById("searchBoxId"); searchBox.addEventListener("suggestionsrequested", suggestionsRequestedHandler); searchBox.addEventListener("querysubmitted", querySubmittedHandler);</p>

<p>If you want to type in and have it automatically register in the search box, set focusOnKeyboardInput to true.</p>

<p>searchBox.winControl.focusOnKeyboardInput = true;</p>

<p>This is the suggestions event handler:</p>

<p>function suggestionsRequestedHandler(eventObject) { var queryText = eventObject.detail.queryText, query = queryText.toLowerCase(), suggestionCollection = eventObject.detail.searchSuggestionCollection; for (var i = 0, len = suggestionList.length; i &lt; len; i++) { if (suggestionList[i].substr(0, query.length).toLowerCase() = query) { suggestionCollection.appendQuerySuggestion(suggestionList[i]); } } }</p>

<p>This is the submit event handler. Note that the eventObject.queryText is now called eventObject.detail.queryText.</p>

<p>function querySubmittedHandler(eventObject) { var queryText = eventObject.detail.queryText; //do something with queryText }</p>

<p>If you want to have an appbar item to focus on the search box:</p>

<p>document.getElementById("cmdAdd").addEventListener("click", doClickAdd, false); function doClickAdd() { var searchBox = document.getElementById("searchBoxId"); // this used to be the searchPane searchBox.focus(); // and after defining searchPane, you needed to do searchPane.show() }</p>

<p>Finally, here is Breezy with Windows 8.1 SearchBox: <br>
<a href="http://sertacozercan.com/wp-content/uploads/Breezy-SearchBox.png"><img src="http://sertacozercan.com/wp-content/uploads/Breezy-SearchBox-150x84.png" alt="Breezy-SearchBox" title=""></a></p>

<p>Also, check out the <a href="http://msdn.microsoft.com/en-us/library/windows/apps/bg182890.aspx#three">Search changes UX documentation</a> and <a href="http://code.msdn.microsoft.com/SearchBox-control-sample-0f64f94d">SearchBox sample</a>. <br>
 If you have any questions, comments or want to add anything, please leave a message below.</p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../../../../author/sozercan/" style="background-image: url(http://www.gravatar.com/avatar/b55d471041bacda59fdbe29c719a4f98?s&amp;)"><span class="hidden">Sertaç Özercan's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../../../../author/sozercan/">Sertaç Özercan</a></h4>

                    <p>Read <a href="../../../../author/sozercan/">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">San Francisco, CA</span>
                    <span class="author-link icon-link"><a href="http://sertacozercan.com">http://sertacozercan.com</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Migrating%20from%20Windows%208.0%20SearchPane%20to%20Windows%208.1%20SearchBox&amp;url=http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://my-ghost-blog.com/2013/09/05/migrating-from-windows-8-0-searchpane-to-windows-8-1-searchbox/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../../../10/14/fixing-element-not-found-exception-from-hresult-0x80070490-error-in-windows-8-x/">
        <section class="post">
            <h2>Fixing "Element not found. (Exception from HRESULT: 0x80070490)" error in Windows 8.x</h2>
            <p>Recently encountered this issue on a Unity 4.3b4 project targeting Windows 8.1 SDK, however it was running…</p>
        </section>
    </a>
    <a class="read-next-story prev no-cover" href="../../03/getting-started-with-windows-phone-app-studio-and-building-your-first-windows-phone-app/">
        <section class="post">
            <h2>Getting started with Windows Phone App Studio and building your first Windows Phone app</h2>
            <p>Microsoft recently released App Studio, which is a web-based Windows Phone app creation tool. Not only it is a…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://my-ghost-blog.com">Sertaç Özercan</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../../../../assets/js/jquery.fitvids.js?v=7481804497"></script>
    <script type="text/javascript" src="../../../../assets/js/index.js?v=7481804497"></script>

</body>
